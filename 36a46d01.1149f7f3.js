(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{173:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return p}));var r=a(2),n=a(11),s=(a(0),a(241)),i={id:"freshdesk",title:"Freshdesk Sample",sidebar_label:"Freshdesk Sample"},o={id:"tutorials/freshdesk",isDocsHomePage:!1,title:"Freshdesk Sample",description:"This guide will walk you through how you can use Freshdesk\u2019s API to access ticket information in Dark. You can find a sample canvas here.",source:"@site/docs/tutorials/freshdesk.md",permalink:"/docs/tutorials/freshdesk",sidebar_label:"Freshdesk Sample",sidebar:"Tutorials",previous:{title:"Airtable Sample",permalink:"/docs/tutorials/airtable"},next:{title:"Sample Canvases",permalink:"/docs/tutorials/sample-canvases"}},c=[{value:"What You Need",id:"what-you-need",children:[]},{value:"Authenticating with Freshdesk",id:"authenticating-with-freshdesk",children:[]},{value:"Getting All of Your Tickets",id:"getting-all-of-your-tickets",children:[]},{value:"Filtering Your Tickets",id:"filtering-your-tickets",children:[]},{value:"Adding Ticket Information to a Datastore in Dark",id:"adding-ticket-information-to-a-datastore-in-dark",children:[]},{value:"Updating Ticket Information With Dark",id:"updating-ticket-information-with-dark",children:[]}],l={rightToc:c};function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"This guide will walk you through how you can use Freshdesk\u2019s API to access ticket information in Dark. You can find a sample canvas ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://darklang.com/a/sample-freshdesk"}),"here"),"."),Object(s.b)("h2",{id:"what-you-need"},"What You Need"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"A Freshdesk account"),Object(s.b)("li",{parentName:"ul"},"Access to the ",Object(s.b)("a",Object(r.a)({parentName:"li"},{href:"https://developers.freshdesk.com/"}),"Freshdesk API documentation")),Object(s.b)("li",{parentName:"ul"},"Access to your Freshdesk API key or username and password.")),Object(s.b)("h2",{id:"authenticating-with-freshdesk"},"Authenticating with Freshdesk"),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image2.png",alt:"assets/freshdesk/image2.png"}))),Object(s.b)("p",null,"Freshdesk uses basic authentication - in this example, we\u2019ve chosen to use our API key and insert random text for the password, but you can replace those with your username and password when using ",Object(s.b)("inlineCode",{parentName:"p"},"HttpClient::basicAuth"),"."),Object(s.b)("h2",{id:"getting-all-of-your-tickets"},"Getting All of Your Tickets"),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/Image4.png",alt:"assets/freshdesk/image4.png"}))),Object(s.b)("p",null,"Freshdesk makes it pretty easy to return a simple list of all of your tickets. However, you may find that the information in this list is not quite what you are looking for - if you want details about a set of tickets, check the Adding Ticket Information to a Datastore section."),Object(s.b)("h2",{id:"filtering-your-tickets"},"Filtering Your Tickets"),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image5.png",alt:"assets/freshdesk/image5.png"}))),Object(s.b)("p",null,"Freshdesk also makes it pretty easy to get a filtered list of your tickets - ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://developers.freshdesk.com/api/#filter_tickets"}),"check their documentation")," for the query options. In this example, we are returning a list of all tickets with a status of 3, which means Pending."),Object(s.b)("h2",{id:"adding-ticket-information-to-a-datastore-in-dark"},"Adding Ticket Information to a Datastore in Dark"),Object(s.b)("p",null,"In the following example, we are going to add a set of information from all of our tickets into a Dark datastore."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/Image3.png",alt:"assets/freshdesk/image3.png"}))),Object(s.b)("p",null,"Create a datastore to keep track of all of your ids. Because our primary use for this datastore is to append the ids to our request URL, it\u2019s helpful to store ",Object(s.b)("inlineCode",{parentName:"p"},"ticket_id")," as a string - you can also cast them to strings later if you\u2019d prefer."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image8.png",alt:"assets/freshdesk/image8.png"}))),Object(s.b)("p",null,"Create a worker to populate that table with all of your ticket ids."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image6.png",alt:"assets/freshdesk/image6.png"}))),Object(s.b)("p",null,"Create a datastore that contains all of the fields you want to save from your tickets--you can see all of your options in ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://developers.freshdesk.com/api/#view_a_ticket"}),"Freshdesk\u2019s API documentation"),"."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image9.png",alt:"assets/freshdesk/image9.png"}))),Object(s.b)("p",null,"Create a function to add the information about your tickets to your new datastore. Note that, because we want information about the requester, we need to add the include parameter to our URL. For more information about this URL parameter, refer to the ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://developers.freshdesk.com/api/#view_a_ticket"}),"View a Ticket")," section of the Freshdesk API."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image1.png",alt:"assets/freshdesk/mage1.png"}))),Object(s.b)("p",null,"Create a worker that performs a ",Object(s.b)("inlineCode",{parentName:"p"},"List::map")," on your list of ticket ids, and uses the ",Object(s.b)("inlineCode",{parentName:"p"},"addTicketstoDB")," function to populate your datastore."),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk//image7.png",alt:"assets/freshdesk/image7.png"}))),Object(s.b)("p",null,"Once your run your worker, your datastore will be updated!"),Object(s.b)("h2",{id:"updating-ticket-information-with-dark"},"Updating Ticket Information With Dark"),Object(s.b)("p",null,Object(s.b)("img",Object(r.a)({parentName:"p"},{src:"assets/freshdesk/image10.png",alt:"assets/freshdesk/image10.png"}))),Object(s.b)("p",null,"Updating ticket information using Dark can be fairly straightforward - the above example shows us updating the priority of the ticket with id 1 to 4, which means Urgent Priority. For a full list of what can and can\u2019t be updated, refer to the ",Object(s.b)("a",Object(r.a)({parentName:"p"},{href:"https://developers.freshdesk.com/api/#update_ticket"}),"Freshdesk API Documentation"),"."))}p.isMDXComponent=!0},241:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var r=a(0),n=a.n(r);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=n.a.createContext({}),p=function(e){var t=n.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},b=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(a),b=r,h=u["".concat(i,".").concat(b)]||u[b]||d[b]||s;return a?n.a.createElement(h,o(o({ref:t},l),{},{components:a})):n.a.createElement(h,o({ref:t},l))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,i=new Array(s);i[0]=b;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var l=2;l<s;l++)i[l]=a[l];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);